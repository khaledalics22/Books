{"version":3,"sources":["components/firebase/base.js","components/firebase/auth.js","components/PrivateRoute.js","logo.svg","components/SignUp.js","components/Login.js","components/HomeBook.js","components/Home.js","components/Profile.js","components/AddBook.js","components/Explore.js","components/BookReview/ReviewBox.js","components/BookReview/Review.js","components/BookReview/BookReview.js","user-circle-solid.svg","components/Navbar.js","App.js","reportWebVitals.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","AuthConext","React","createContext","AuthProvider","children","useState","JSON","parse","localStorage","getItem","currentUser","setCurrentUser","useEffect","auth","onAuthStateChanged","authUser","console","log","setItem","stringify","removeItem","Provider","value","PrivateRoute","RouteComponent","component","rest","useContext","render","routeProps","to","withRouter","image","userType","history","handleSignUp","useCallback","event","a","preventDefault","target","elements","name","email","password","length","createUserWithEmailAndPassword","response","user","handleUpload","url","db","firestore","collection","doc","uid","set","picture_url","user_type","liked_books","currently_raeding","push","delete","alert","handleChange","e","files","logo","file","storage","storageRef","ref","uploadTask","child","put","then","snapshot","getDownloadURL","downUrl","className","class","style","display","onSubmit","type","placeholder","id","onChange","for","handleLogin","signInWithEmailAndPassword","HomeBook","book","book_id","src","cover_url","title","author_name","category","description","Home","books","setBooks","scrollTop","setScrollTop","reachedBottom","setReachedBottom","lastDoc","setLastDoc","getBooks","limit","get","result","returnedBooks","docs","forEach","data","concat","getMoreBooks","startAfter","onScroll","window","innerHeight","scrollY","document","body","offsetHeight","documentElement","addEventListener","removeEventListener","map","getBooksView","booksArray","Divider","backgroundColor","height","GridList","maxWidth","spacing","cols","textAlign","textAlignLast","GridListTile","alt","GridListTileBar","subtitle","Profile","publishedBooks","setUser","likedBooksResponse","setListLikedBooks","currReadingResponse","setCurrReaingBooks","getUser","exists","likedBookIds","likedList","where","liked","rating","currentlyReading","currently_reading","currList","curr","booksResponse","setListOfBooks","catch","error","onClick","likedBooks","currReadingBooks","roundedColor","roundedSize","borderRadius","handleAddBook","authoerName","publisher_id","color","orders","Name","order","Explore","searchText","categories","setCategories","getCategory","categoriesList","changeCategory","orderBy","query","query1","query2","query3","result1","result2","result3","sort","b","booksList","Array","fill","checkedState","setCheckedState","setOrderBy","orderByChecked","index","position","updatedCheckedState","item","handleOnChange","checked","searchtext","setSearchText","ReviewBox","props","bookId","fetchReviews","review","trim","reviewObject","user_id","content","htmlFor","defaultImg","Review","avatar","setAvatar","setName","res","useParams","setBook","setRating","setLiked","reviews","setReviews","reading","setReading","err","currReadingIds","indexOf","idx","splice","update","readingList","emptySymbol","fullSymbol","fractions","initialRating","Navbar","search","dropdownRef","useRef","showImageList","setShowImageList","useHistory","location","useLocation","pageClickEvent","current","contains","handleLogOut","signOut","searchIcon","pathname","href","temp","DefaultComponents","exact","path","AddBook","BookReview","App","Login","SignUp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5ff94dd8.chunk.js","sourcesContent":["\nimport firebase from 'firebase';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\n  let app = firebase.initializeApp({\n    apiKey: \"AIzaSyCdAggi7FwFD5eFKI5J-SKQHlJZllSpZo0\",\n    authDomain: \"books-ad527.firebaseapp.com\",\n    projectId: \"books-ad527\",\n    storageBucket: \"books-ad527.appspot.com\",\n    messagingSenderId: \"726816442080\",\n    appId: \"1:726816442080:web:407f6f28ed52c3968a7285\",\n    measurementId: \"G-QLMW55X952\"\n  });\n\n  firebase.analytics();\n\n  export default app","import React, { useEffect, useState } from \"react\";\nimport app from \"./base\";\n\nexport const AuthConext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(\n    JSON.parse(localStorage.getItem(\"authUser\"))\n  );\n\n  useEffect(() => {\n    app.auth().onAuthStateChanged((authUser) => {\n      if (authUser) {\n        console.log(authUser);\n        setCurrentUser(authUser);\n        return localStorage.setItem(\"authUser\", JSON.stringify(authUser));\n      } else {\n        setCurrentUser(null);\n        return localStorage.removeItem(\"authUser\");\n      }\n    });\n    app.auth().onAuthStateChanged(setCurrentUser);\n  }, []);\n  return (\n    <AuthConext.Provider value={{ currentUser }}>\n      {children}\n    </AuthConext.Provider>\n  );\n};\n\nexport default AuthProvider;\n","import React , { useContext } from 'react'; \nimport { Route, Redirect } from 'react-router-dom'; \nimport { AuthConext } from './firebase/auth'\n\nconst PrivateRoute = ({ component: RouteComponent,...rest})=> {\n    const {currentUser} = useContext(AuthConext);\n    return (\n    <Route\n      {...rest}\n      render = {routeProps =>\n        !!currentUser ? (\n          <RouteComponent {...routeProps}/>\n        ) : ( \n         <Redirect to={\"/login\"}/> \n        )\n      }\n    />\n  );\n};\n\n\nexport default PrivateRoute","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useCallback } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport app from \"./firebase/base\";\nimport \"./SignUp.css\";\nimport logo from '../logo.svg'\nconst SignUp = ({ history }) => {\n  var image;\n  var userType; \n  const handleSignUp = useCallback(async event => {\n    event.preventDefault();\n    const {name, email, password } = event.target.elements;\n\n   if(image&&(userType=='author' || userType=='reader')&&name?.value?.length>0 && email?.value?.length>0 && password?.value?.length>0){\n    let user; \n    try {\n      let url;\n      let response = await app\n      .auth()\n      .createUserWithEmailAndPassword(email.value, password.value);\n      user = response.user; \n      url = await handleUpload(user,name,email); \n      const db = app.firestore();\n\n      await db.collection('user').doc(user.uid)\n      .set({name: name.value,email:email.value, picture_url:url,user_type:userType,\n      liked_books:[],currently_raeding:[]}); \n      history.push(\"/\");\n    } catch (error) {\n      if(user){\n         await user.delete();\n      }\n      alert(error);\n    }\n  }else{alert('Invalid Inputs');}}, [history]);\n  const handleChange =  useCallback(e=>{\n    if(e.target.files[0]){\n        image = e.target.files[0];\n    }\n    else{\n      image = logo; \n    }\n  },[history]);\n  function setUserType(type){\n    userType = type; \n  }\n  // upload image \n  const handleUpload = async (user, name,email ) =>{\n    // console.log(this.state.image);\n    let file =  image;\n    var storage = app.storage();\n    var storageRef = storage.ref();\n    var uploadTask = storageRef.child('folder/' + file.name).put(file);\n  \n    let downUrl; \n    await uploadTask.then(async () =>{\n        // uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) =>{\n        await uploadTask.snapshot.ref.getDownloadURL().then(async (url) =>{\n          downUrl =url; \n        });\n     });\n     return downUrl; \n    };\n\n  return (\n    <render >\n      <body className=\"bodySignUp\">\n          <h1 name='signup' >Sign Up</h1>\n          <div class=\"container3\">\n              <form className=\"formSingUp\" style={{display:'inline-block'}} onSubmit={handleSignUp}>\n                  <label className=\"labelSignUp\">Name</label> \n                  <input className=\"inputSignUp\" name=\"name\" type=\"label\" placeholder=\"Name\" />\n                  <label className=\"labelSignUp\">Email</label> \n                  <input className=\"inputSignUp\" name=\"email\" type=\"email\" placeholder=\"Email\" />\n                  <label className=\"labelSignUp\"> Password </label>\n                  <input className=\"inputSignUp\" name=\"password\" type=\"password\" placeholder=\"Password\" /> \n                  <label className=\"labelSignUp\">Choose Image</label>\n                  <input className=\"inputFile\" type=\"file\" id=\"file\" onChange={handleChange} />\n                  <label className=\"labelSignUp\" >User type</label>\n                  <div onChange={(event)=>{  setUserType(event.target.value); }}>\n                    <form>\n                      <label class=\"radio-inline\" className='radio-label' for=\"author\">  \n                      <input type=\"radio\" id=\"author\" value=\"author\" name=\"gender\"/>Author</label>\n                      <label class=\"radio-inline\" className='radio-label' for=\"reader\" >\n                      <input type=\"radio\" id=\"reader\" value=\"reader\" name=\"gender\" />Reader</label>\n                    </form>\n                  </div>\n                  <button className=\"buttonSignUp\" type=\"submit\">Sign Up</button><br/>\n                  <Link className=\"signUpLink\" to=\"/login\">Already have email? Login!</Link>\n              </form>\n          </div>\n          </body>\n    </render>\n  );\n};\n\nexport default withRouter(SignUp);\n","import React, { useCallback, useContext } from \"react\";\nimport { withRouter, Redirect,Link } from \"react-router-dom\";\nimport { AuthConext } from \"./firebase/auth.js\";\nimport app from \"./firebase/base.js\";\nimport './Login.css'\n\nconst Login = ({ history }) => {\n\n  \n  const handleLogin = useCallback(\n    async event => {\n      event.preventDefault();\n      const { email, password } = event.target.elements;\n      if(email?.value?.length>0 && password?.value?.length>0){\n\n        try {\n          await app\n          .auth()\n          .signInWithEmailAndPassword(email.value, password.value);\n          history.push(\"/\");\n        } catch (error) {\n          alert(error);\n        }\n      }else{\n        alert('invalid inputs');\n      }\n    },\n    [history]\n  );\n\n  const { currentUser } = useContext(AuthConext);\n  if (currentUser) {\n    return (<Redirect to=\"/\" />);\n  }\n\n  return (\n    <render >\n      <body className=\"bodyLogin\">\n        <h1 name='login'>Login</h1>\n        <div class=\"container2\">\n            <form className=\"formLogin\" style={{display:'inline-block'}} onSubmit={handleLogin}>\n                <label className=\"labelLogin\"> Email </label> \n                <input className=\"inputLogin\" name=\"email\" type=\"label\" placeholder=\"Email\" /> \n                <label className=\"labelLogin\"> Password </label> \n                <input className=\"inputLogin\" name=\"password\" type=\"password\" placeholder=\"Password\" /> \n                <button className=\"buttonLogin\" type=\"submit\">Login</button><br/>\n                <Link className=\"loginLink\" to=\"/signup\">Don't have email? SignUP!</Link>\n            </form>\n        </div>\n      </body>\n    </render>\n  );\n};\n\nexport default withRouter(Login);","import React from 'react'\nimport \"./HomeBook.css\";\nimport {Link } from \"react-router-dom\";\n\nconst HomeBook = ({book}) => {\n    return (\n        <div className=\"container\">\n            <Link to={`/reviews/${book.book_id}`} className='img-container'><img className='book-img' src={book.cover_url}></img></Link>\n            <div className='text-container'>\n                <h1 className='book-title'>{book.title}</h1>\n                <h4 className='book-author'>by {book.author_name}</h4>\n                <h5 className='category-label'>category:</h5>\n                <h5 className='book-category'>{book.category}</h5>\n                <h6 className='book-description'>{book.description}</h6>\n            </div>\n        </div>\n    )\n}\n\nexport default HomeBook","import React, { useContext, useState, useEffect, useRef } from \"react\";\nimport app from \"./firebase/base.js\";\nimport HomeBook from \"./HomeBook\";\nimport \"./Home.css\";\n\nexport default function Home({ history }) {\n  const db = app.firestore();\n  const [books, setBooks] = useState([]);\n  const [scrollTop, setScrollTop] = useState(0);\n  const [reachedBottom, setReachedBottom] = useState(false);\n  const [lastDoc, setLastDoc] = useState(null);\n\n  function hasReachedBottom() {\n    return window.innerHeight + window.scrollY >= document.body.offsetHeight;\n  }\n\n  const getBooks = async () => {\n    try {\n      db.collection(\"book\")\n        .limit(5)\n        .get()\n        .then((result) => {\n          const returnedBooks = [];\n          result.docs.forEach((doc) => {\n            returnedBooks.push(doc.data());\n          });\n          setLastDoc(result.docs[result.docs.length - 1]);\n          setBooks(books.concat(returnedBooks));\n        });\n    } catch {\n      alert(\"something went wrong!\");\n    }\n  };\n\n  const getMoreBooks = async () => {\n    try {\n      db.collection(\"book\")\n        .startAfter(lastDoc)\n        .limit(5)\n        .get()\n        .then((result) => {\n          const returnedBooks = [];\n          result.docs.forEach((doc) => {\n            returnedBooks.push(doc.data());\n          });\n          setLastDoc(result.docs[result.docs.length - 1]);\n          setBooks(books.concat(returnedBooks));\n        });\n    } catch {\n      setReachedBottom(true);\n    }\n  };\n\n  useEffect(() => {\n    getBooks();\n  }, []);\n\n  useEffect(() => {\n    const onScroll = (e) => {\n      if (hasReachedBottom() && !reachedBottom) {\n        getMoreBooks();\n      }\n      // console.log(hasReachedBottom());\n      setScrollTop(e.target.documentElement.scrollTop);\n    };\n    window.addEventListener(\"scroll\", onScroll);\n\n    return () => window.removeEventListener(\"scroll\", onScroll);\n  }, [scrollTop]);\n\n  return (\n    <div>\n      <div className=\"home-books\">\n        {books.map((book) => (\n          <HomeBook key={book.book_id} book={book} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport app from \"./firebase/base.js\";\nimport \"./Profile.css\";\nimport { AuthConext } from \"./firebase/auth.js\";\nimport {\n  GridListTile,\n  GridListTileBar,\n  IconButton,\n  GridList,\n  Divider,\n  Container,\n  colors,\n} from \"@material-ui/core\";\nimport {Link } from \"react-router-dom\";\nimport ReactRoundedImage from \"react-rounded-image\";\n\n\nfunction getBooksView(booksArray) {\n  if (booksArray != null && booksArray?.length > 0) {\n    return (\n      <div>\n        <Divider style={{ backgroundColor: \"white\", height: \"1px\" }} />\n        <GridList\n          maxWidth=\"200px\"\n          spacing=\"0px\"\n          cols={4}\n          style={{ textAlign: \"left\", textAlignLast: \"left\" }}\n        >\n          {booksArray?.map((book) => (\n            <GridListTile className=\"likedItemContainer\">\n              <Link to={`/reviews/${book.book_id}`}>\n                <img\n                  src={book.cover_url}\n                  alt={book.title}\n                  className=\"likedBooks\"\n                />\n              </Link>\n              <GridListTileBar title={book.title} subtitle={book.author_name} />\n            </GridListTile>\n          ))}\n        </GridList>\n        {/* <Divider style={{backgroundColor:'white', height:'1px'}}/> */}\n      </div>\n    );\n  } else {\n    return <p className=\"no_books\">No books Yet!</p>;\n  }\n}\nexport default function Profile({ history }) {\n  const db = app.firestore();\n  const { currentUser } = useContext(AuthConext);\n  const [user, setUser] = useState();\n  const [likedBooksResponse, setListLikedBooks] = useState();\n  const [currReadingResponse, setCurrReaingBooks] = useState();\n\n  // fetch user data from firebase\n  const getUser = async () => {\n    try {\n      db.collection(\"user\")\n        .doc(currentUser.uid)\n        .get()\n        .then(async (doc) => {\n          if (doc.exists) {\n            // alert(doc.data().picture_url);\n            setUser(doc.data());\n            // ge liked\n            const likedBookIds = doc.data().liked_books;\n            const likedList = [];\n            likedBookIds?.forEach((id) => {\n              likedList.push(id);\n            });\n            if (likedList != null && likedList.length > 0)\n              db.collection(\"book\")\n                .where(\"book_id\", \"in\", likedList)\n                .get()\n                .then((result) => {\n                  const liked = [];\n                  result.forEach((doc) => {\n                    liked.push({\n                      book_id: doc.data().book_id,\n                      title: doc.data()?.title,\n                      description: doc.data()?.description,\n                      author_name: doc.data()?.author_name,\n                      category: doc.data()?.category,\n                      cover_url: doc.data()?.cover_url,\n                      rating: doc.data()?.rating,\n                    });\n                  });\n                  setListLikedBooks(liked);\n                });\n            // get currently reading\n            const currentlyReading = doc.data().currently_reading;\n            const currList = [];\n            currentlyReading?.forEach((id) => {\n              currList.push(id);\n            });\n            if (currList != null && currList.length > 0)\n              db.collection(\"book\")\n                .where(\"book_id\", \"in\", currList)\n                .get()\n                .then((result) => {\n                  const curr = [];\n                  result?.forEach((doc) => {\n                    curr.push({\n                      book_id: doc.data().book_id,\n                      title: doc.data()?.title,\n                      description: doc.data()?.description,\n                      author_name: doc.data()?.author_name,\n                      category: doc.data()?.category,\n                      cover_url: doc.data()?.cover_url,\n                      rating: doc.data()?.rating,\n                    });\n                  });\n                  setCurrReaingBooks(curr);\n                });\n          }\n        });\n    } catch {\n      alert(\"something went wrong!\");\n    }\n  };\n\n  // fetch published books from firebase\n  const [booksResponse, setListOfBooks] = useState();\n  const getBooks = async () => {\n    db.collection(\"book\")\n      .where(\"publisher_id\", \"==\", currentUser?.uid)\n      .get()\n      .then(function (result) {\n        const books = [];\n        result.forEach((doc) => {\n          books.push({\n            book_id: doc.data().book_id,\n            title: doc.data()?.title,\n            description: doc.data()?.description,\n            author_name: doc.data()?.author_name,\n            category: doc.data()?.category,\n            cover_url: doc.data()?.cover_url,\n            rating: doc.data()?.rating,\n          });\n        });\n        setListOfBooks(books);\n      })\n      .catch(function (error) {\n        alert(error);\n      });\n  };\n\n  // fetch from firebase\n  useEffect(() => {\n    getUser();\n    getBooks();\n  }, []);\n\n  // get html to display\n  let publishedBooks;\n  if (user?.user_type == \"author\")\n    publishedBooks = (\n      <div>\n        <h2 className=\"profileHeaders\">Published Books</h2>\n        <button\n          className=\"buttonAddBookAction\"\n          onClick={() => {\n            history.push(\"/add-book\");\n          }}\n        >\n          +\n        </button>\n        {getBooksView(booksResponse)}\n      </div>\n    );\n  else {\n    publishedBooks = <br></br>;\n  }\n  let likedBooks = getBooksView(likedBooksResponse);\n  let currReadingBooks = getBooksView(currReadingResponse);\n\n  return (\n    <render>\n      <div>\n        <body className=\"profileBody\">\n          <br/>\n          <ReactRoundedImage\n            image={user && user.picture_url}\n            roundedColor=\"#66A5CC\"\n            roundedSize=\"8\"\n            borderRadius=\"100\"\n          ></ReactRoundedImage>\n          <h2 className=\"username\">{user && user?.name}</h2>\n          <h5 className=\"useremail\">{user?.email}</h5>\n          <h5 className=\"useremail\">\n            {\" > \"}\n            {user?.user_type || \"reader\"}\n          </h5>\n       \n        {publishedBooks}\n        <h2 className=\"profileHeaders\">Liked Books</h2>\n        {likedBooks}\n        <h2 className=\"profileHeaders\">Currently Reading</h2>\n        {currReadingBooks}\n      </body>\n      </div>\n    </render>\n  );\n}\n","import React, { useCallback, useContext } from \"react\";\nimport app from \"./firebase/base.js\";\nimport \"./AddBook.css\";\nimport { AuthConext } from \"./firebase/auth.js\";\nimport { withRouter } from \"react-router-dom\";\n\nconst AddBook = ({ history }) => {\n  const { currentUser } = useContext(AuthConext);\n  const handleAddBook = useCallback(\n    async (event) => {\n      event.preventDefault();\n      const { title, authoerName, category, description } =\n        event.target.elements;\n      try {\n        handleUpload(title, authoerName, description, category);\n        // alert(title.value+'\\n'+authoerName.value+'\\n'+currentUser.uid+'\\n'+description.value+'\\n');\n      } catch (error) {\n        alert(error);\n      }\n    },\n    [history]\n  );\n  const handleUpload = (title, authoerName, description, category) => {\n    // console.log(this.state.image);\n    let file = image;\n    var storage = app.storage();\n    var storageRef = storage.ref();\n    var uploadTask = storageRef.child(\"folder/\" + file.name).put(file);\n\n    uploadTask.then(async () => {\n      // uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) =>{\n      uploadTask.snapshot.ref.getDownloadURL().then(async (url) => {\n        const db = app.firestore();\n        const doc = db.collection(\"book\").doc();\n        await doc.set({\n          book_id: doc.id,\n          publisher_id: currentUser.uid,\n          title: title.value,\n          author_name: authoerName.value,\n          description: description.value,\n          category: category.value,\n          cover_url: url,\n          rating: 0,\n        });\n        history.push(\"/profile\");\n      });\n    });\n  };\n  var image;\n  const handleChange = useCallback(\n    (e) => {\n      if (e.target.files[0]) {\n        image = e.target.files[0];\n      }\n    },\n    [history]\n  );\n  return (\n    <render>\n      <div class=\"container\">\n        <body className=\"bodyAddBook\">\n          <h1 style={{ color: \"white\" }} name=\"addbook\">\n            Add New Book\n          </h1>\n          <form\n            className=\"formAddBook\"\n            style={{ display: \"inline-block\" }}\n            onSubmit={handleAddBook}\n          >\n            <label className=\"labelAddBook\">Book title</label>\n            <input\n              className=\"inputAddBook\"\n              name=\"title\"\n              type=\"label\"\n              placeholder=\"Book Title\"\n            />\n            <label className=\"labelAddBook\"> Author Name </label>\n            <input\n              className=\"inputAddBook\"\n              name=\"authoerName\"\n              type=\"label\"\n              placeholder=\"Author Name\"\n            />\n            <label className=\"labelAddBook\"> category </label>\n            <input\n              className=\"inputAddBook\"\n              name=\"category\"\n              type=\"label\"\n              placeholder=\"Category\"\n            />\n            <label className=\"labelAddBook\"> description </label>\n            <input\n              className=\"inputAddBook\"\n              name=\"description\"\n              type=\"label\"\n              placeholder=\"Description\"\n            />\n            <label className=\"labelAddBook\"> Book Cover </label>\n            <input\n              className=\"inputFile\"\n              type=\"file\"\n              id=\"file\"\n              onChange={handleChange}\n            />\n            <button className=\"buttonAddBook\" type=\"submit\">\n              Add\n            </button>\n            <br />\n          </form>\n        </body>\n      </div>\n    </render>\n  );\n};\nexport default withRouter(AddBook);\n","import { useState, useEffect, useContext } from \"react\";\nimport \"./Explore.css\";\nimport app from \"./firebase/base.js\";\nimport { AuthConext } from \"./firebase/auth.js\";\nimport HomeBook from \"./HomeBook\";\nconst orders = [\n  { Name: \"Title\", order: \"title\" },\n  { Name: \"Author Name\", order: \"author_name\" },\n  { Name: \"Rating\", order: \"rating\" },\n];\nconst Explore = ({ history, searchText }) => {\n  const { currentUser } = useContext(AuthConext);\n  const db = app.firestore();\n  const [categories, setCategories] = useState();\n\n  const getCategory = async () => {\n    try {\n      let categories = [];\n      let result = await db.collection(\"category\").get();\n      if (!result) console.log(\"There is no categories in the database\");\n      else {\n        result.forEach((doc) => {\n          categories.push({ Name: doc.data().Name, id: doc.id });\n        });\n      }\n      setCategories(categories);\n    } catch {\n      alert(\"error in getting categories from database\");\n    }\n  };\n\n  let categoriesList = [];\n  if (categories != null) {\n    categoriesList = (\n      <div className=\"categoriesContainer\">\n        <h1>Categories</h1>\n        {categories.map((category) => (\n          <a\n            key={category.id}\n            className=\"categoryLink\"\n            onClick={() => changeCategory(category.Name)}\n          >\n            <h3 className=\"categoryLink\"> {category.Name} </h3>\n          </a>\n        ))}\n      </div>\n    );\n  }\n  const changeCategory = (category) => {\n    getBooks(\"title\", \"\", category);\n  };\n\n  const [books, setBooks] = useState();\n  const getBooks = async (orderBy, searchText, category) => {\n    try {\n      let books = [];\n      let query = db.collection(\"book\");\n      let query1, query2, query3;\n      if (searchText != \"\") {\n        query1 = query.where(\"title\", \"==\", searchText);\n        query2 = query.where(\"author_name\", \"==\", searchText);\n        query3 = query.where(\"category\", \"==\", searchText);\n        let result1 = await query1.get();\n        let result2 = await query2.get();\n        let result3 = await query3.get();\n        result1.forEach((doc) => {\n          books.push(doc.data());\n        });\n        result2.forEach((doc) => {\n          books.push(doc.data());\n        });\n        result3.forEach((doc) => {\n          books.push(doc.data());\n        });\n        books.sort((a, b) => {\n          if (a[orderBy] < b[orderBy]) return -1;\n          if (a[orderBy] > b[orderBy]) return 1;\n          return 0;\n        });\n        setBooks(books);\n      } else {\n        if (category !== \"\") query = query.where(\"category\", \"==\", category);\n        let result = await query.orderBy(orderBy).get();\n        if (!result) console.log(\"There is no books in the database\");\n        else {\n          result.forEach((doc) => {\n            books.push(doc.data());\n          });\n        }\n        console.log(books);\n        setBooks(books);\n      }\n    } catch (err) {\n      alert(err);\n      console.log(err);\n    }\n  };\n\n  let booksList = [];\n  if (books != null) {\n    booksList = (\n      <div className=\"booksContainer\">\n        {books.map((book) => (\n          <HomeBook key={book.book_id} book={book} />\n        ))}\n      </div>\n    );\n  }\n\n  const [checkedState, setCheckedState] = useState(\n    new Array(orders.length).fill(false)\n  );\n\n  const handleOnChange = (position) => {\n    const updatedCheckedState = checkedState.map((item, index) =>\n      index === position ? !item : false\n    );\n    setCheckedState(updatedCheckedState);\n\n    updatedCheckedState.forEach((item, index) => {\n      if (item === true) {\n        setOrderBy(orders[index].order);\n        books.sort((a, b) => {\n          if (a[orders[index].order] < b[orders[index].order]) return -1;\n          if (a[orders[index].order] > b[orders[index].order]) return 1;\n          return 0;\n        });\n      }\n    });\n  };\n\n  let [orderBy, setOrderBy] = useState(\"title\");\n\n  const orderByChecked = (\n    <div className=\"checkBoxes\">\n      <label>Order By</label>\n      <ul>\n        {orders.map((order, index) => {\n          return (\n            <li key={index}>\n              <input\n                onChange={() => handleOnChange(index)}\n                checked={checkedState[index]}\n                type=\"checkbox\"\n              />\n              {order.Name}\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n  let [searchtext, setSearchText] = useState(searchText || \"\");\n\n  useEffect(() => {\n    setSearchText(searchText);\n    getCategory();\n    getBooks(orderBy, searchtext, \"\");\n  }, [searchtext, searchText]);\n  return (\n    <>\n      {orderByChecked}\n      {booksList}\n      {categoriesList}\n    </>\n  );\n};\n\nexport default Explore;\n","import React, { useContext, useEffect } from \"react\";\nimport { AuthConext } from \"../firebase/auth.js\";\nimport app from \"../firebase/base.js\";\n\nconst db = app.firestore();\n\nconst ReviewBox = (props) => {\n  const { bookId, fetchReviews } = props;\n  const { currentUser } = useContext(AuthConext);\n\n  const addReview = (e) => {\n    e.preventDefault();\n    const review = e.target.elements.review.value.trim();\n    if (review) {\n      const reviewObject = {\n        book_id: bookId,\n        user_id: currentUser.uid,\n        content: review,\n      };\n      db.collection(\"review\")\n        .doc()\n        .set(reviewObject)\n        .then(() => {\n          console.log(\"Done\");\n          e.target.elements.review.value = \"\";\n          fetchReviews();\n        });\n    }\n  };\n  return (\n    currentUser && (\n      <form onSubmit={addReview} className=\"review-form\">\n        <div className=\"form-group review-input\">\n          <label htmlFor=\"addReview\" className=\"review-label\">\n            Add a review\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control review-text\"\n            id=\"addReview\"\n            name=\"review\"\n            placeholder=\"Add a review\"\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary review-submit\">\n          Submit\n        </button>\n      </form>\n    )\n  );\n};\n\nexport default ReviewBox;\n","import React, { useState, useEffect } from \"react\";\nimport app from \"../firebase/base.js\";\n\nconst db = app.firestore();\nconst defaultImg =\n  \"https://yt3.ggpht.com/ytc/AAUvwngw35YY8vYI86RTOoEGafSxEjghjzTcKw3LbMyZ=s900-c-k-c0x00ffffff-no-rj\";\n\nconst Review = (props) => {\n  const { user_id, content } = props.review;\n  const [avatar, setAvatar] = useState(defaultImg);\n  const [name, setName] = useState(\"Reviewer\");\n\n  useEffect(() => {\n    db.collection(\"user\")\n      .doc(user_id)\n      .get()\n      .then((user) => {\n        const res = user.data();\n        console.log(res);\n        setAvatar(res.picture_url);\n        setName(res.name);\n      });\n  }, []);\n  return (\n    <div className=\"review-container mt-3\">\n      <div className=\"comment\">\n        <img\n          className=\"d-flex g-width-50 g-height-50 rounded-circle g-mt-3 g-mr-15\"\n          src={avatar || defaultImg}\n          alt=\"Image Description\"\n        />\n        <h5 className=\"h5 g-color-gray-dark-v1 mb-0\">{name || \"Reviewer\"}</h5>\n        <p className=\"review-content\">{content}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Review;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { withRouter, useParams } from \"react-router-dom\";\nimport app from \"../firebase/base.js\";\nimport \"./BookReview.css\";\nimport { AuthConext } from \"../firebase/auth.js\";\nimport ReviewBox from \"./ReviewBox\";\nimport Review from \"./Review\";\nimport Rating from \"react-rating\";\n\nconst db = app.firestore();\n\nconst BookReview = ({ history }) => {\n  const { bookId } = useParams();\n  const [user, setUser] = useState([]);\n  const [book, setBook] = useState({});\n  const [rating, setRating] = useState(0);\n  const [liked, setLiked] = useState(false);\n  const [reviews, setReviews] = useState([]);\n  const [reading, setReading] = useState(false);\n\n  const { currentUser } = useContext(AuthConext);\n  // const bookId = \"DUjmj5IkEUoxq6hn0mjC\";\n\n  const fetchReviews = () => {\n    db.collection(\"book\")\n      .doc(bookId)\n      .get()\n      .then((book) => {\n        console.log(book.data());\n        setBook(book.data());\n        setRating(book.data().rating);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n    db.collection(\"review\")\n      .where(\"book_id\", \"==\", bookId)\n      .get()\n      .then((reviews) => {\n        let result = [];\n        reviews.forEach((review) => {\n          result.push(review.data());\n          console.log(review.id);\n        });\n        console.log(result);\n        setReviews(result);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n\n  const fetchUser = () => {\n    db.collection(\"book\")\n      .doc(bookId)\n      .get()\n      .then((book) => {\n        setBook(book.data());\n\n        db.collection(\"user\")\n          .doc(currentUser.uid)\n          .get()\n          .then((doc) => {\n            console.log(doc);\n            setUser(doc.data());\n          })\n          .catch((err) => {\n            console.error(err);\n          });\n      });\n  };\n\n  const handleRating = (value) => {\n    console.log(value);\n    setRating(value);\n    setBook({ ...book, rating: value });\n    db.collection(\"book\")\n      .doc(bookId)\n      .set({ ...book, rating: value });\n  };\n\n  const toggleLike = () => {\n    db.collection(\"user\")\n      .doc(currentUser.uid)\n      .get()\n      .then((doc) => {\n        const likedBookIds = doc.data().liked_books;\n        console.log(likedBookIds);\n        let likedList = [];\n        likedBookIds?.forEach((id) => {\n          likedList.push(id);\n        });\n        let idx = likedList.indexOf(bookId);\n        if (idx != -1) {\n          likedList.splice(idx, 1);\n        } else {\n          likedList.push(bookId);\n        }\n\n        setLiked(!liked);\n\n        if (likedList == null || likedList.length == 0) {\n          likedList = [];\n        }\n        console.log(likedList);\n        db.collection(\"user\")\n          .doc(currentUser.uid)\n          .update({ liked_books: likedList });\n      });\n  };\n\n  const toggleReading = () => {\n    db.collection(\"user\")\n      .doc(currentUser.uid)\n      .get()\n      .then((doc) => {\n        const currReadingIds = doc.data().currently_reading;\n        let readingList = [];\n        currReadingIds?.forEach((id) => {\n          readingList.push(id);\n        });\n        let idx = readingList.indexOf(bookId);\n        if (idx != -1) {\n          readingList.splice(idx, 1);\n        } else {\n          readingList.push(bookId);\n        }\n\n        setReading(!reading);\n\n        if (readingList == null || readingList.length == 0) {\n          readingList = [];\n        }\n        db.collection(\"user\")\n          .doc(currentUser.uid)\n          .update({ currently_reading: readingList });\n      });\n  };\n\n  const checkLikedReading = () => {\n    db.collection(\"user\")\n      .doc(currentUser.uid)\n      .get()\n      .then((doc) => {\n        const likedBookIds = doc.data().liked_books;\n        const currReadingIds = doc.data().currently_reading;\n\n        if (likedBookIds?.indexOf(bookId) !== -1) {\n          setLiked(true);\n        }\n        if (currReadingIds?.indexOf(bookId) !== -1) {\n          setReading(true);\n        }\n      });\n  };\n\n  useEffect(() => {\n    if (currentUser) {\n      checkLikedReading();\n      fetchUser();\n    }\n    fetchReviews();\n  }, [bookId]);\n\n  return (\n    <>\n      <div className=\"review-container\">\n        <div className=\"book-review\">\n          <div className=\"book-review-img\">\n            <img className=\"rounded mx-auto d-block\" src={book.cover_url} />\n          </div>\n\n          <div className=\"book-review-summary\">\n            {currentUser && (\n              <div>\n                <button\n                  style={{ color: `${liked ? \"red\" : \"white\"}` }}\n                  className=\"ActionButton\"\n                  onClick={toggleLike}\n                >\n                  <i class=\"fa fa-thumbs-up\">{liked ? \"liked\" : \"like\"}</i>\n                </button>\n                <button\n                  style={{ color: `${reading ? \"red\" : \"white\"}` }}\n                  className=\"ActionButton\"\n                  onClick={toggleReading}\n                >\n                  <i class=\"fa fa-plus\"></i>\n                  {reading ? \"Is Reading\" : \"Add to reading\"}\n                </button>\n              </div>\n            )}\n            <h1 className=\"italic\">{book.title}</h1>\n            <h4 className=\"author-name\">{book.author_name}</h4>\n            <p>{book.description}</p>\n            <Rating\n              emptySymbol=\"fa fa-star-o fa-2x\"\n              fullSymbol=\"fa fa-star fa-2x\"\n              fractions=\"10\"\n              initialRating={rating}\n              onChange={handleRating}\n            />\n          </div>\n        </div>\n      </div>\n      <div>\n        <ReviewBox bookId={bookId} fetchReviews={fetchReviews} />\n        {reviews.map((review, index) => {\n          return <Review key={index} review={review} />;\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default withRouter(BookReview);\n","export default __webpack_public_path__ + \"static/media/user-circle-solid.da970b88.svg\";","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport app from \"./firebase/base.js\";\nimport \"./Navbar.css\";\nimport temp from \"../user-circle-solid.svg\";\nimport { AuthConext } from \"./firebase/auth\";\n\nconst db = app.firestore();\n\nconst Navbar = ({ search }, ...props) => {\n  const { currentUser } = useContext(AuthConext);\n  const dropdownRef = useRef(null);\n  const [user, setUser] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n  const [showImageList, setShowImageList] = useState(false);\n  let history = useHistory();\n  let location = useLocation();\n  const getUser = () => {\n    db.collection(\"user\")\n      .doc(currentUser.uid)\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          setUser(doc.data());\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    if (currentUser) getUser();\n    console.log(props);\n    const pageClickEvent = (e) => {\n      if (\n        dropdownRef.current !== null &&\n        !dropdownRef.current.contains(e.target)\n      ) {\n        setShowImageList(!showImageList);\n      }\n    };\n\n    if (showImageList) {\n      window.addEventListener(\"click\", pageClickEvent);\n    }\n\n    return () => {\n      window.removeEventListener(\"click\", pageClickEvent);\n    };\n  }, [showImageList, dropdownRef, currentUser]);\n\n  const handleLogOut = () => {\n    app\n      .auth()\n      .signOut()\n      .then(() => {\n        history.push(\"/\");\n      })\n      .catch((error) => {\n        alert(error);\n      });\n  };\n\n  const searchIcon = () => {\n    if (location.pathname !== \"/explore\") {\n      console.log(\"1\");\n      return (\n        <Link\n          to=\"/explore\"\n          className=\"fas fa-search\"\n          onClick={() => search(searchText)}\n        ></Link>\n      );\n    } else {\n      console.log(\"0\");\n      return <i className=\"fas fa-search\" onClick={() => search(searchText)} />;\n    }\n  };\n\n  return (\n    <nav className=\"navBarItems\">\n      <Link to=\"/\" className=\"title-link\">\n        <h1 className=\"title-nav\">BookNerds</h1>\n      </Link>\n\n      <div className=\"search-box\">\n        <input\n          type=\"text\"\n          value={searchText}\n          className=\"search-text\"\n          name=\"searchText\"\n          placeholder=\"Search books\"\n          onChange={(e) => setSearchText(e.target.value)}\n        />\n        <a className=\"search-btn\" href=\"#\">\n          {searchIcon()}\n        </a>\n      </div>\n\n      <div className=\"items\">\n        <Link to=\"/\" className=\"home-nav\">\n          Home\n        </Link>\n        <Link to=\"/explore\" className=\"explore-nav\">\n          Explore\n        </Link>\n        {!currentUser && (\n          <div className=\"login-signup-container\">\n              <Link to=\"/login\" className=\"login-nav\">\n              Login\n            </Link>\n            <Link to=\"/signup\" className=\"signup-nav\">\n              Sign up\n            </Link>\n          </div>)}\n      </div>\n\n      {currentUser && (\n        <div className=\"menu-container\">\n          <img\n            className=\"user-image-nav\"\n            src={user ? user.picture_url : temp}\n            onClick={() => setShowImageList(!showImageList)}\n          ></img>\n          <div\n            ref={dropdownRef}\n            className={`menu ${showImageList ? \"active\" : \"inactive\"}`}\n          >\n            <ul>\n              <li>\n                <div className=\"username-menu\">{user?.name}</div>\n              </li>\n              <li>\n                <Link\n                  to=\"/profile\"\n                  className=\"profile-menu\"\n                  onClick={() => {\n                    setShowImageList(!showImageList);\n                  }}\n                >\n                  Profile\n                </Link>\n              </li>\n              <li>\n                <Link onClick={handleLogOut}>Log Out</Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n      )}\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React, { useRef, useState } from \"react\";\nimport \"./App.css\";\nimport { AuthProvider } from \"./components/firebase/auth\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport SignUp from \"./components/SignUp\";\nimport Login from \"./components/Login\";\nimport Home from \"./components/Home\";\nimport Profile from \"./components/Profile\";\nimport AddBook from \"./components/AddBook\";\nimport Explore from \"./components/Explore\";\nimport BookReview from \"./components/BookReview/BookReview\";\nimport Navbar from \"./components/Navbar\";\n\nconst DefaultComponents = () => {\n  const [searchText,setSearchText] = useState(\"\");\n  const search = (searchText) =>\n  {\n    setSearchText(searchText);\n  }\n  return (\n    <>\n      <Navbar search={search} />\n      <PrivateRoute exact path=\"/\" component={Home} />\n      <Route exact path=\"/profile\" component={Profile} />\n      <Route exact path=\"/add-book\" component={AddBook} />\n      <Route exact path=\"/reviews/:bookId\" component={BookReview} />\n      <Route exact path=\"/explore\" render={(props) => <Explore {...props} searchText={searchText}/>} />\n    </>\n  );\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={SignUp} />\n          <Route component={DefaultComponents} />\n        </Switch>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}